(function(){"use strict";var t={2262:function(t,e,a){var n=a(9242),r=a(1020),o=a(3396);const s={class:"app-area"};function l(t,e,a,n,r,l){const c=(0,o.up)("RouterView");return(0,o.wg)(),(0,o.iD)("div",s,[(0,o.Wm)(c)])}a(7658);const c={class:"menu-sidebar"},i=(0,o._)("div",{class:"main-header"},[(0,o._)("header",null,[(0,o._)("h1",null,"Stats for Spotify")]),(0,o._)("div",{id:"login-content"},[(0,o._)("p",{class:"login-warning-menu"})])],-1),u={class:"options"},d={class:"stats-options"};function m(t,e){return(0,o.wg)(),(0,o.iD)("aside",c,[i,(0,o._)("div",u,[(0,o._)("div",d,[(0,o._)("button",{class:"btn-topTracks",onClick:e[0]||(e[0]=e=>t.$router.push("/TopTracks"))},"Top Tracks"),(0,o._)("button",{class:"btn-topArtists",onClick:e[1]||(e[1]=e=>t.$router.push("/TopArtists"))},"Top Artists"),(0,o._)("button",{class:"btn-history",onClick:e[2]||(e[2]=e=>t.$router.push("/ListeningHistory"))},"Listening History"),(0,o._)("button",{class:"btn-manager",onClick:e[3]||(e[3]=e=>t.$router.push("/Manager"))},"Manager")])])])}var p=a(89);const _={},h=(0,p.Z)(_,[["render",m]]);var g=h,f={components:{MenuSidebar:g}};const k=(0,p.Z)(f,[["render",l]]);var v=k,y=a(2483);const w={class:"dashboard-section"},b=(0,o._)("header",{class:"function-header"},[(0,o._)("h1",null,"Dashboard")],-1),T=(0,o._)("div",{class:"dashboard-content"},null,-1),A=[b,T];function S(t,e,a,n,r,s){return(0,o.wg)(),(0,o.iD)("div",w,A)}var D=a(4161),C={data(){return{userProfile:[]}},async created(){console.log("GERUSERPROFILEDATA");const t=localStorage.getItem("access_token"),e=await D.Z.get("https://api.spotify.com/v1/me",{headers:{Authorization:`Bearer ${t}`}});this.userProfile=e,console.log("DATA"),console.log(this.userProfile)}};const U=(0,p.Z)(C,[["render",S]]);var P=U;const L={class:"login-page"},x={class:"login-wrapper"},I=(0,o._)("div",{class:"login-header"},[(0,o._)("h1",{class:"login-message"},"Log in to your"),(0,o._)("h1",{class:"login-message"},"Spotify account"),(0,o._)("h2",{class:"login-sub-message"},"and check your listening stats")],-1),O={class:"login-section"},z=(0,o._)("b",null,"Log in",-1),M=[z];function H(t,e,a,n,r,s){return(0,o.wg)(),(0,o.iD)("div",L,[(0,o._)("div",x,[I,(0,o._)("div",O,[(0,o._)("button",{id:"login-btn",class:"login-btn",onClick:e[0]||(e[0]=t=>{n.authStore.redirectToAuth()})},M)])])])}a(6229),a(7330),a(2062),a(2801),a(1439),a(7585),a(5315);function V(t){let e="";const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<t;n++)e+=a.charAt(Math.floor(Math.random()*a.length));return e}async function Z(t){const e=new TextEncoder,a=e.encode(t),n=await crypto.subtle.digest("SHA-256",a),r=btoa(String.fromCharCode(...new Uint8Array(n))),o=r.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");return o}const E=["user-read-private","user-read-email","user-top-read","user-read-recently-played"],R="code_verifier",$="auth_code",G="access_token",Y="refresh_token",j="expires_in",B=(0,r.Q_)("auth",(()=>{function t(){const t=V(128);console.log(t),Z(t).then((e=>{const a=V(16),n=E.join(" ");localStorage.setItem(R,t);const r=new URLSearchParams({response_type:"code",client_id:"aeda74075eec4ffa897944adb9682ba5",scope:n,redirect_uri:"http://localhost:8080/Callback",state:a,code_challenge_method:"S256",code_challenge:e}),o=`https://accounts.spotify.com/authorize?${r}`;window.location.href=o}))}function e(){const t=new URLSearchParams(window.location.search),e=t.get("code");return e&&localStorage.setItem($,e),e}async function a(){const t=e(),a=localStorage.getItem(R),n=new URLSearchParams({grant_type:"authorization_code",code:t,redirect_uri:"http://localhost:8080/Callback",client_id:"aeda74075eec4ffa897944adb9682ba5",code_verifier:a});try{const t=await D.Z.post("https://accounts.spotify.com/api/token",n),{access_token:e,refresh_token:a,expires_in:r}=t.data,o=(new Date).getTime()+1e3*r;console.log("SETING LOCALSTORAGE VARIABLES"),localStorage.setItem(G,e),localStorage.setItem(Y,a),localStorage.setItem(j,o.toString()),console.log("LOCALSTORAGE VARIABLES DONE"),window.location.replace("http://localhost:8080/TopArtists")}catch(r){console.error(r)}}return{redirectToAuth:t,requestAccessToken:a}}));var N={name:"Login",setup(){const t=B();return{authStore:t}}};const W=(0,p.Z)(N,[["render",H]]);var q=W;const K={class:"callback"},F=(0,o._)("h1",null,"Loading...",-1),Q=[F];function J(t,e,a,n,r,s){return(0,o.wg)(),(0,o.iD)("div",K,Q)}var X={name:"Callback",created(){console.log("Aqui foi");const t=B(),e=new URLSearchParams(window.location.search);e.has("code")&&(console.log("request accessToken"),t.requestAccessToken()),localStorage.getItem("access_token")?console.log("access_token found"):console.log("Error")}};const tt=(0,p.Z)(X,[["render",J]]);var et=tt,at=a(7139);const nt={class:"main-content"},rt={class:"topArtists-section"},ot=(0,o._)("header",{class:"function-header"},[(0,o._)("h1",null,"Top Artists")],-1),st={class:"topArtists-content"},lt={class:"fetch-options-top"},ct={for:"4weeks"},it={for:"6months"},ut={for:"alltime"},dt={id:"topArtists-results",class:"topArtists-results"},mt={class:"dataItems"},pt=["href"],_t=["src"],ht={class:"artistName"};function gt(t,e,a,r,s,l){const c=(0,o.up)("MenuSidebar");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(c),(0,o._)("div",nt,[(0,o._)("div",rt,[ot,(0,o._)("div",st,[(0,o._)("div",lt,[(0,o._)("label",ct,[(0,o.wy)((0,o._)("input",{type:"radio",onChange:e[0]||(e[0]=t=>(l.getTerm(),l.getTopArtists())),"onUpdate:modelValue":e[1]||(e[1]=t=>s.term=t),value:"short_term",id:"4weeks",name:"topic",checked:"checked"},null,544),[[n.G2,s.term]]),(0,o.Uk)(" Last 4 weeks ")]),(0,o._)("label",it,[(0,o.wy)((0,o._)("input",{type:"radio",onChange:e[2]||(e[2]=t=>(l.getTerm(),l.getTopArtists())),"onUpdate:modelValue":e[3]||(e[3]=t=>s.term=t),value:"medium_term",id:"6months",name:"topic"},null,544),[[n.G2,s.term]]),(0,o.Uk)(" Last 6 months ")]),(0,o._)("label",ut,[(0,o.wy)((0,o._)("input",{type:"radio",onChange:e[4]||(e[4]=t=>(l.getTerm(),l.getTopArtists())),"onUpdate:modelValue":e[5]||(e[5]=t=>s.term=t),value:"long_term",id:"alltime",name:"topic"},null,544),[[n.G2,s.term]]),(0,o.Uk)(" All time ")])]),(0,o._)("div",dt,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.topArtists,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{key:t.name},[(0,o._)("div",mt,[(0,o._)("a",{href:t.external_urls.spotify,target:"_blank"},[(0,o._)("img",{class:"topArtistsImg",src:t.images[1].url},null,8,_t)],8,pt),(0,o._)("p",ht,[(0,o._)("b",null,(0,at.zw)(e+1),1),(0,o.Uk)(" - "+(0,at.zw)(t.name),1)])])])))),128))])])])])],64)}var ft={components:{MenuSidebar:g},data(){return{topArtists:[],term:"",termvalue:"short_term"}},async created(){this.getTopArtists()},methods:{getTerm:function(){this.termvalue=this.term,console.log(this.termvalue)},async getTopArtists(){const t=localStorage.getItem("access_token");if(t){const e=await D.Z.get(`https://api.spotify.com/v1/me/top/artists?time_range=${this.termvalue}&limit=50`,{headers:{Authorization:`Bearer ${t}`}});this.topArtists=e.data.items}}}};const kt=(0,p.Z)(ft,[["render",gt]]);var vt=kt;const yt={class:"main-content"},wt={class:"topTracks-section"},bt=(0,o._)("header",{class:"function-header"},[(0,o._)("h1",null,"Top Tracks")],-1),Tt={class:"topTracks-content"},At={class:"fetch-options-top"},St={for:"4weeks"},Dt={for:"6months"},Ct={for:"alltime"},Ut={id:"topTracks-results",class:"topTracks-results"},Pt={class:"dataItems"},Lt=["href"],xt=["src"],It={class:"trackName"},Ot=(0,o._)("br",null,null,-1);function zt(t,e,a,r,s,l){const c=(0,o.up)("MenuSidebar");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(c),(0,o._)("div",yt,[(0,o._)("div",wt,[bt,(0,o._)("div",Tt,[(0,o._)("div",At,[(0,o._)("label",St,[(0,o.wy)((0,o._)("input",{type:"radio",onChange:e[0]||(e[0]=t=>(l.getTerm(),l.getTopTracks())),"onUpdate:modelValue":e[1]||(e[1]=t=>s.term=t),value:"short_term",id:"4weeks",name:"topic",checked:"checked"},null,544),[[n.G2,s.term]]),(0,o.Uk)(" Last 4 weeks ")]),(0,o._)("label",Dt,[(0,o.wy)((0,o._)("input",{type:"radio",onChange:e[2]||(e[2]=t=>(l.getTerm(),l.getTopTracks())),"onUpdate:modelValue":e[3]||(e[3]=t=>s.term=t),value:"medium_term",id:"6months",name:"topic"},null,544),[[n.G2,s.term]]),(0,o.Uk)(" Last 6 months ")]),(0,o._)("label",Ct,[(0,o.wy)((0,o._)("input",{type:"radio",onChange:e[4]||(e[4]=t=>(l.getTerm(),l.getTopTracks())),"onUpdate:modelValue":e[5]||(e[5]=t=>s.term=t),value:"long_term",id:"alltime",name:"topic"},null,544),[[n.G2,s.term]]),(0,o.Uk)(" All time ")])]),(0,o._)("div",Ut,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.topTracks,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{key:t.name},[(0,o._)("div",Pt,[(0,o._)("a",{href:t.external_urls.spotify,target:"_blank"},[(0,o._)("img",{class:"topTracksImg",src:t.album.images[1].url},null,8,xt)],8,Lt),(0,o._)("p",It,[(0,o._)("b",null,(0,at.zw)(e+1),1),(0,o.Uk)(" - "+(0,at.zw)(t.name),1),Ot,(0,o._)("b",null,(0,at.zw)(t.artists[0].name),1)])])])))),128))])])])])],64)}var Mt={components:{MenuSidebar:g},data(){return{topTracks:[],term:"",termvalue:"short_term"}},async created(){this.getTopTracks()},methods:{getTerm:function(){this.termvalue=this.term,console.log(this.termvalue)},async getTopTracks(){const t=localStorage.getItem("access_token");if(t){const e=await D.Z.get(`https://api.spotify.com/v1/me/top/tracks?time_range=${this.termvalue}&limit=50`,{headers:{Authorization:`Bearer ${t}`}});this.topTracks=e.data.items}}}};const Ht=(0,p.Z)(Mt,[["render",zt]]);var Vt=Ht;const Zt={class:"main-content"},Et={class:"recentlyPlayedTracks"},Rt=(0,o._)("header",{class:"function-header"},[(0,o._)("h1",null,"Recently Played Tracks")],-1),$t={class:"recentlyPlayed-content"},Gt={class:"recentlyPlayed-data-container"},Yt={class:"recentlyPlayedSection"},jt=(0,o._)("tr",null,[(0,o._)("th"),(0,o._)("th",null,"Track"),(0,o._)("th",null,"Artist"),(0,o._)("th",null,"Date")],-1),Bt={class:"recentlyPlayedImgSection"},Nt=["href"],Wt=["src"],qt={class:"trackName"};function Kt(t,e,a,n,r,s){const l=(0,o.up)("MenuSidebar");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(l),(0,o._)("div",Zt,[(0,o._)("div",Et,[Rt,(0,o._)("div",$t,[(0,o._)("div",Gt,[(0,o._)("table",Yt,[jt,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.recentlyPlayed,(t=>((0,o.wg)(),(0,o.iD)("tr",{key:t.track.name},[(0,o._)("td",Bt,[(0,o._)("a",{href:t.track.external_urls.spotify,target:"_blank"},[(0,o._)("img",{class:"recentlyPlayedImg",src:t.track.album.images[1].url},null,8,Wt)],8,Nt)]),(0,o._)("td",qt,(0,at.zw)(t.track.name),1),(0,o._)("td",null,[(0,o._)("b",null,(0,at.zw)(t.track.artists[0].name),1)]),(0,o._)("td",null,(0,at.zw)(t.played_at),1)])))),128))])])])])])],64)}var Ft={components:{MenuSidebar:g},data(){return{recentlyPlayed:[]}},async created(){const t=localStorage.getItem("access_token");if(t){const e=await D.Z.get("https://api.spotify.com/v1/me/player/recently-played?limit=50",{headers:{Authorization:`Bearer ${t}`}});this.recentlyPlayed=e.data.items}}};const Qt=(0,p.Z)(Ft,[["render",Kt]]);var Jt=Qt;const Xt={class:"main-content"},te=(0,o._)("header",{class:"function-header"},[(0,o._)("h1",null,"Manager")],-1),ee={class:"manager-section"},ae=(0,o._)("h1",null,"Create Tracks",-1),ne={class:"form"},re=(0,o._)("label",null,"Track ID",-1),oe=(0,o._)("label",null,"Track Name",-1),se=(0,o._)("label",null,"Artist Name",-1),le=(0,o._)("label",null,"Image URL",-1),ce=(0,o._)("h1",null,"Read",-1),ie=(0,o._)("tr",null,[(0,o._)("th",null,"track_id"),(0,o._)("th",null,"track_name"),(0,o._)("th",null,"artist_name"),(0,o._)("th",null,"img_url")],-1),ue=["textContent"],de=["textContent"],me=["textContent"],pe=["textContent"],_e=(0,o._)("td",null,[(0,o._)("input",{type:"button",value:"Update"}),(0,o._)("input",{type:"button",value:"Delete"})],-1);function he(t,e,a,r,s,l){const c=(0,o.up)("MenuSidebar");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(c),(0,o._)("div",Xt,[te,(0,o._)("div",ee,[ae,(0,o._)("div",ne,[(0,o._)("form",{method:"POST",action:"http://localhost/PHP-VUE/create.php",onSubmit:e[5]||(e[5]=(0,n.iM)(((...e)=>t.doCreate&&t.doCreate(...e)),["prevent"]))},[re,(0,o.wy)((0,o._)("input",{type:"text",name:"id","onUpdate:modelValue":e[0]||(e[0]=t=>s.formData.id=t)},null,512),[[n.nr,s.formData.id]]),oe,(0,o.wy)((0,o._)("input",{type:"text",name:"track_name","onUpdate:modelValue":e[1]||(e[1]=t=>s.formData.track_name=t)},null,512),[[n.nr,s.formData.track_name]]),se,(0,o.wy)((0,o._)("input",{type:"text",name:"artist_name","onUpdate:modelValue":e[2]||(e[2]=t=>s.formData.artist_name=t)},null,512),[[n.nr,s.formData.artist_name]]),le,(0,o.wy)((0,o._)("input",{type:"text",name:"img_url","onUpdate:modelValue":e[3]||(e[3]=t=>s.formData.img_url=t)},null,512),[[n.nr,s.formData.img_url]]),(0,o._)("input",{type:"submit",value:"Create Track",onClick:e[4]||(e[4]=(...t)=>l.sendData&&l.sendData(...t))})],32)]),ce,(0,o._)("table",null,[ie,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.tracks,((t,e)=>((0,o.wg)(),(0,o.iD)("tr",null,[(0,o._)("td",{textContent:(0,at.zw)(t.id)},null,8,ue),(0,o._)("td",{textContent:(0,at.zw)(t.track_name)},null,8,de),(0,o._)("td",{textContent:(0,at.zw)(t.artist_name)},null,8,me),(0,o._)("td",{textContent:(0,at.zw)(t.img_url)},null,8,pe),_e])))),256))])])])],64)}var ge={components:{MenuSidebar:g},data(){return{formData:{id:"",track_name:"",artist_name:"",img_url:""},tracks:{id:"",track_name:"",artist_name:"",img_url:""},trackid:0}},methods:{sendData(){D.Z.post("http://localhost/PHP-VUE/create.php",this.formData,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"multipart/form-data"}}).then((t=>{console.log(t.data)})).catch((t=>{console.error(t)}))},getData(){var t;t=this,D.Z.get("http://localhost/PHP-VUE/read.php").then((function(e){t.tracks=e.data})).catch((function(t){console.error(t)}))}},mounted(){this.getData()}};const fe=(0,p.Z)(ge,[["render",he]]);var ke=fe;const ve=(0,y.p7)({history:(0,y.PO)("/"),routes:[{path:"/",name:"Login",component:q},{path:"/Callback",name:"Callback",component:et},{path:"/Charts",name:"Charts",component:P},{path:"/TopArtists",name:"TopArtists",component:vt},{path:"/TopTracks",name:"TopTracks",component:Vt},{path:"/ListeningHistory",name:"ListeningHistory",component:Jt},{path:"/Manager",name:"Manager",component:ke}]});var ye=ve;const we=(0,r.WB)(),be=(0,n.ri)(v);be.use(we),be.use(ye),be.mount("#app")}},e={};function a(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,a),o.exports}a.m=t,function(){var t=[];a.O=function(e,n,r,o){if(!n){var s=1/0;for(u=0;u<t.length;u++){n=t[u][0],r=t[u][1],o=t[u][2];for(var l=!0,c=0;c<n.length;c++)(!1&o||s>=o)&&Object.keys(a.O).every((function(t){return a.O[t](n[c])}))?n.splice(c--,1):(l=!1,o<s&&(s=o));if(l){t.splice(u--,1);var i=r();void 0!==i&&(e=i)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[n,r,o]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,o,s=n[0],l=n[1],c=n[2],i=0;if(s.some((function(e){return 0!==t[e]}))){for(r in l)a.o(l,r)&&(a.m[r]=l[r]);if(c)var u=c(a)}for(e&&e(n);i<s.length;i++)o=s[i],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(u)},n=self["webpackChunkspotify_stats_spa"]=self["webpackChunkspotify_stats_spa"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(2262)}));n=a.O(n)})();
//# sourceMappingURL=app.5b022c14.js.map